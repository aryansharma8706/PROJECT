(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("react/jsx-runtime"),require("react"),require("react-router")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","react-router"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.ReactRouterPrompt={},n["react/jsx-runtime"],n.react,n.reactRouter))})(this,function(n,r,u,f){"use strict";function l(t,i){const e=f.useBlocker(t);return u.useEffect(()=>{e.state==="blocked"&&e.location&&i&&i(e.location),e.state==="blocked"&&!t&&e.reset()},[e,t,i]),f.useBeforeUnload(u.useCallback(o=>{(typeof t=="boolean"&&t===!0||typeof t=="function"&&t())&&(o.preventDefault(),o.returnValue="Changes that you made may not be saved.")},[t]),{capture:!0}),e}const d=t=>{const[i,e]=u.useState(null),o=l(t,s=>{e(s)}),a=()=>{o.state==="blocked"&&o.reset()},c=()=>{o.state==="blocked"&&setTimeout(o.proceed,0)};return{isActive:o.state==="blocked",onConfirm:c,resetConfirmation:a,nextLocation:i||void 0}};function m({when:t,children:i,beforeCancel:e,beforeConfirm:o}){const{isActive:a,onConfirm:c,resetConfirmation:s,nextLocation:p}=d(t),k=u.useCallback(async()=>{o&&await o(),c()},[o,c]),y=u.useCallback(async()=>{e&&await e(),s()},[e,s]);return a?r.jsx(r.Fragment,{children:i({isActive:!0,onConfirm:k,onCancel:y,nextLocation:p||void 0})}):null}n.default=m,n.useConfirm=d,n.usePrompt=l,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
